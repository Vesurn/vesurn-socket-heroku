(()=>{const e=document.getElementById("username"),t=document.getElementById("button");function a(){const e=new XMLHttpRequest;e.open("POST","/login"),e.setRequestHeader("Content-Type","application/json"),e.onreadystatechange=()=>{4===e.readyState&&200===e.status?(localStorage.setItem("user",e.responseText),console.log("success"),window.location.pathname="/login"):console.log("error")},e.send(JSON.stringify({username:localStorage.getItem("username")}))}e.value=localStorage.getItem("username"),t.addEventListener("click",(t=>{if(t.preventDefault(),!e.value)throw new Error("Username is required");localStorage.setItem("username",e.value),localStorage.getItem("user")&&JSON.parse(localStorage.getItem("user")).username===localStorage.getItem("username")?window.location.pathname="/chat":a()}))})();
//# sourceMappingURL=index.bundle.js.map